# ===========================================
# Backend Service Golang Boilerplate
# Environment Configuration Reference
# ===========================================
# Copy this file to .env and adjust values as needed.
# All variables listed here are supported by the application.

# ===========================================
# Application Configuration
# ===========================================
# APP_NAME: Service identifier for logging and tracing
APP_NAME=golang-api-hexagonal

# APP_ENV: Runtime environment
# - development: Human-readable console logs, verbose output
# - staging: JSON logs, reduced verbosity
# - production: JSON logs, structured for log aggregation
APP_ENV=development

# APP_HTTP_PORT: HTTP server listening port
# Required: 1-65535
APP_HTTP_PORT=8080

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
# Connection settings
# REQUIRED: DB_HOST, DB_PORT, DB_USER, DB_NAME (Password optional for trust auth)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=app

# DB_SSL_MODE: SSL connection mode
# - disable: No SSL (development)
# - require: SSL required (production)
# - verify-full: SSL with certificate verification
DB_SSL_MODE=disable

# Connection Pool Settings
# DB_MAX_OPEN_CONNS: Maximum open connections to the database
# Valid: >= 0 (0 = unlimited)
DB_MAX_OPEN_CONNS=20

# DB_MAX_IDLE_CONNS: Maximum idle connections in the pool
# Valid: >= 0 (0 = no idle connections kept)
DB_MAX_IDLE_CONNS=5

# DB_CONN_MAX_LIFETIME: Maximum lifetime of a connection (e.g., 30m, 1h)
DB_CONN_MAX_LIFETIME=30m

# DB_CONN_TIMEOUT: Timeout for initial database connection (Story 4.2)
# Valid: Duration string (e.g., 10s, 30s, 1m)
DB_CONN_TIMEOUT=10s

# DB_QUERY_TIMEOUT: Default timeout for database queries (Story 4.2)
# Valid: Duration string (e.g., 30s, 1m, 5m)
DB_QUERY_TIMEOUT=30s

# ===========================================
# OpenTelemetry Configuration
# ===========================================
# OTEL_EXPORTER_OTLP_ENDPOINT: OTLP collector endpoint (HTTP)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# OTEL_SERVICE_NAME: Service name for distributed tracing
OTEL_SERVICE_NAME=golang-api-hexagonal

# ===========================================
# Logging Configuration
# ===========================================
# LOG_LEVEL: Minimum log level
# - debug: All logs including debug information
# - info: Informational messages and above
# - warn: Warnings and errors only
# - error: Errors only
LOG_LEVEL=info

# LOG_FORMAT: Output format for logs
# - json: Structured JSON (production, log aggregation)
# - console: Human-readable (development)
LOG_FORMAT=console

# ===========================================
# Redis Configuration
# ===========================================
# REDIS_HOST: Redis server hostname
REDIS_HOST=localhost

# REDIS_PORT: Redis server port
REDIS_PORT=6379

# REDIS_PASSWORD: Redis authentication password (leave empty if no auth)
REDIS_PASSWORD=

# REDIS_DB: Redis database number (0-15)
REDIS_DB=0

# REDIS_POOL_SIZE: Maximum number of socket connections
REDIS_POOL_SIZE=10

# REDIS_MIN_IDLE_CONNS: Minimum number of idle connections
REDIS_MIN_IDLE_CONNS=5

# REDIS_DIAL_TIMEOUT: Timeout for establishing new connections
REDIS_DIAL_TIMEOUT=5s

# REDIS_READ_TIMEOUT: Timeout for socket reads
REDIS_READ_TIMEOUT=3s

# REDIS_WRITE_TIMEOUT: Timeout for socket writes
REDIS_WRITE_TIMEOUT=3s

# ===========================================
# Asynq Worker Configuration
# ===========================================
# ASYNQ_CONCURRENCY: Number of concurrent task processors
ASYNQ_CONCURRENCY=10

# ASYNQ_RETRY_MAX: Maximum number of retry attempts for failed tasks
ASYNQ_RETRY_MAX=3

# ASYNQ_SHUTDOWN_TIMEOUT: Timeout for graceful shutdown
ASYNQ_SHUTDOWN_TIMEOUT=30s

# ===========================================
# gRPC Server Configuration (Story 12.1)
# ===========================================
# GRPC_ENABLED: Enable gRPC server alongside HTTP
# - true: gRPC server starts on GRPC_PORT
# - false: gRPC server disabled (default)
GRPC_ENABLED=false

# GRPC_PORT: gRPC server listening port
# Required when GRPC_ENABLED=true
GRPC_PORT=50051

# GRPC_REFLECTION_ENABLED: Enable gRPC reflection for debugging
# - true: Enable reflection (use with grpcurl/grpcui)
# - false: Disable reflection (recommended for production)
GRPC_REFLECTION_ENABLED=true

# ===========================================
# Kafka Configuration (Story 13.1)
# ===========================================
# KAFKA_ENABLED: Enable Kafka event publisher
# - true: Kafka publisher initialized on startup
# - false: Kafka disabled, noop publisher used (default)
KAFKA_ENABLED=false

# KAFKA_BROKERS: Comma-separated list of Kafka broker addresses
KAFKA_BROKERS=localhost:9092

# KAFKA_CLIENT_ID: Client identifier for Kafka connections
KAFKA_CLIENT_ID=golang-api-hexagonal

# KAFKA_PRODUCER_TIMEOUT: Timeout for producer operations
KAFKA_PRODUCER_TIMEOUT=10s

# KAFKA_PRODUCER_REQUIRED_ACKS: Acknowledgement level for messages
# - all: Wait for all ISR replicas (safest, default)
# - local: Wait for leader acknowledgement only
# - none: No acknowledgement (fastest, least safe)
KAFKA_PRODUCER_REQUIRED_ACKS=all

# KAFKA_TLS_ENABLED: Enable TLS encryption
KAFKA_TLS_ENABLED=false

# KAFKA_SASL_ENABLED: Enable SASL authentication
KAFKA_SASL_ENABLED=false

# KAFKA_SASL_USERNAME: SASL username (required if SASL enabled)
KAFKA_SASL_USERNAME=

# KAFKA_SASL_PASSWORD: SASL password (required if SASL enabled)
KAFKA_SASL_PASSWORD=

# KAFKA_SASL_MECHANISM: SASL mechanism
# - PLAIN: Plain text authentication
# - SCRAM-SHA-256: SCRAM-SHA-256 authentication
# - SCRAM-SHA-512: SCRAM-SHA-512 authentication
KAFKA_SASL_MECHANISM=PLAIN
